{"version":3,"sources":["assets/es.svg","assets/pt.svg","assets/uk.svg","components/nav/country-menu.tsx","components/nav/nav.tsx","components/article/fulltext-article.tsx","models/category.ts","components/article/article.tsx","components/loader/loader.tsx","components/infinite-scroll/thresholds.ts","components/infinite-scroll/infinite-scroll.tsx","lib/utils.ts","context/settings-context.tsx","components/explore/categories/categories-list.tsx","lib/localizer.ts","components/containers/apiFunctions.ts","components/containers/articles-container.tsx","components/explore/search.tsx","components/explore/tabs/explore-tab-styles.tsx","components/explore/subscriptions-list-old.tsx","components/explore/tab-panel-old.tsx","components/explore/tabs/tab-panel.tsx","components/tag/link-tag.tsx","components/explore/daily-topics/daily-topic-list.tsx","components/explore/subscriptions/subscriptions-input.tsx","components/explore/subscriptions/subscriptions-list.tsx","components/explore/subscriptions/subscriptions.tsx","components/explore/tabs/explore-tabs.tsx","components/explore/explore.tsx","components/Privacy/privacy-policy.tsx","components/containers/front-container.tsx","components/routes/routes.tsx","components/Privacy/cookies-consent.tsx","App.tsx","serviceWorker.ts","components/routes/scroll-to-top.tsx","index.tsx","assets/global.svg"],"names":["module","exports","chooseFlag","flag","spainFlag","portugalFlag","ukFlag","globalFlag","CountryMenu","language","React","useState","anchorEl","setAnchorEl","pathname","useLocation","push","useHistory","handleChangeLanguage","newLanguage","localStorage","setItem","regx","RegExp","newRoute","replace","IconButton","onClick","e","currentTarget","style","padding","src","alt","width","Menu","open","Boolean","onClose","_","keepMounted","disableScrollLock","MenuItem","useStyles","makeStyles","theme","createStyles","root","backgroundColor","palette","type","boxShadow","breakpoints","down","bottom","top","buttonLabel","color","typography","body2","display","navButton","initialLanguage","getItem","Nav","daysSince2020First","split","filter","z","classes","AppBar","className","Toolbar","Container","Grid","container","alignItems","spacing","flexWrap","overflow","item","to","Button","startIcon","SvgIcon","closeButton","zIndex","up","position","right","dialogTitle","fontWeight","fontFamily","fontSize","lineHeight","FullTextArticle","imageUrl","title","fullText","showDialog","onShowDialog","useTheme","Dialog","maxWidth","fullWidth","scroll","fullScreen","useMediaQuery","size","objectFit","DialogTitle","disableTypography","DialogContent","map","p","i","grey","textAlign","key","Category","0","portuguese","english","1","2","3","4","5","6","7","8","CategoryColor","card","borderRadius","props","direction","flexDirection","minWidth","body","media","marginRight","objectPosition","flexBasis","height","maxHeight","minHeight","text","primary","colors","blue","transition","description","only","category","categoryNumber","meta","avatar","float","actions","justifyContent","heart","red","readMore","green","visited","marginTop","Article","domain","friendlyDate","imageTitle","url","id","ranking","onDescriptionTextSelected","clicks","favicon","bordered","tags","setShowDialog","handleVisit","a","fetch","json","Paper","elevation","data-id","data-ranking","onError","t","href","target","rel","onMouseUp","window","getSelection","toString","trim","dangerouslySetInnerHTML","__html","undefined","toLowerCase","Hidden","smUp","NewsLoader","viewBox","xmlns","fill","cx","cy","r","attributeName","from","begin","dur","values","calcMode","repeatCount","fillOpacity","ThresholdUnits","defaultThreshold","unit","value","parseThreshold","scrollThreshold","match","parseFloat","console","warn","InfiniteScroll","throttledOnScrollListener","_scrollableNode","el","_infScroll","lastScrollTop","actionTriggered","startY","currentY","dragging","maxPullDownDistance","getScrollableTarget","scrollableTarget","HTMLElement","document","getElementById","onStart","evt","MouseEvent","pageY","TouchEvent","touches","willChange","onMove","transform","onEnd","state","pullToRefreshThresholdBreached","refreshFunction","setState","requestAnimationFrame","onScrollListener","event","onScroll","setTimeout","documentElement","scrollTop","isElementAtBottom","hasMore","showLoader","next","throttle","bind","this","dataLength","Error","addEventListener","initialScrollY","scrollHeight","scrollTo","removeEventListener","clientHeight","screen","availHeight","threshold","WebkitOverflowScrolling","hasChildren","children","Array","length","outerDivStyle","ref","infScroll","loader","endMessage","Component","getLocalStorageObject","storedCategoriesString","JSON","parse","setLocalStorageObject","object","stringObject","stringify","getDaysSince2020First","today","firstDay","Date","elapsedMilliseconds","valueOf","Math","trunc","initialCategories","Object","keys","c","Number","CategoriesContext","createContext","useCategories","useContext","SettingsProvider","categories","setCategories","useMemo","Provider","stickyPannel","overflowY","header","marginLeft","paddingBottom","borderBottom","link","CategoriesList","handleToggleCategory","name","newCategories","includes","List","ListItem","Switch","checked","onChange","ListItemText","translateIntoPortuguese","culture","news","sports","science","religion","fun","tech","weather","history","en","es","pt","all","getApiUrl","baseUrl","pageNumber","pageSize","searchTerm","order","parts","join","ArticlesContainer","isMobile","noSsr","err","setErr","pagination","setPagination","articles","setArticles","isLoading","setIsLoading","setPageNumber","useParams","topicId","useEffect","fetchArts","apiUrl","response","paginationHeaders","headers","get","paginationJson","newArticles","orderByDescending","toArray","loadMore","HasNext","arts","newArts","distinct","handleSelectDescriptionText","articleId","selectedText","find","Alert","severity","sm","md","paddingLeft","icon","margin","TotalCount","toLocaleString","article","Fragment","xs","lg","search","shape","fade","common","white","searchIcon","pointerEvents","inputRoot","inputInput","transitions","create","Search","setSearchTerm","onSubmit","preventDefault","InputBase","placeholder","input","inputProps","TabLabelMenu","withStyles","textTransform","opacity","fontWeightMedium","selected","Tab","disableRipple","TabsGroup","indicator","Tabs","flexGrow","SubscriptionsListOld","subscriptions","subscriptionType","onFilterSubscriptions","subscription","subscriptionNumber","getUrl","TabPanelOld","index","subscriptionsProperty","staticSubscriptions","subscriptionsType","other","setSubscriptions","originalSubscriptions","setOriginalSubscriptions","transformJson","j","newSubstriptions","fetchJson","role","hidden","aria-labelledby","filterTerm","filterPattern","newSubs","s","test","TabPanel","alert","tag","tagIcon","mainContainer","topic","marginBottom","paddingRight","LinkTag","DailyTopicList","dailyTopics","setDailyTopics","topics","getTopics","button","component","divider","ListItemAvatar","Avatar","count","mainTitle","tagsText","splice","flex","iconButton","SubscriptionsInput","onAddSubscription","setValue","aria-label","SubscriptionsList","onRemoveSubscription","dense","sub","ListItemIcon","storedSubscriptions","Subscriptions","Set","ExploreTabs","tab","newValue","scrollButtons","label","Explore","PrivacyPolicy","topicInfo","lighten","main","tagLink","textDecoration","populateTerms","textTags","mainTerm","shift","secondaryTerms","FrontContainer","fetchTopics","newTopics","mergedTopics","IEnumerable","slice","term","art","some","sortArticles","mainArticle","terms","secondary","styles","ArticlesList","Routes","path","exact","CookiesConsent","setDisplay","handleAcceptCookies","left","process","variant","App","directionSetting","setDirection","onDirectionChanges","newDirection","location","hostname","ScrollToTop","createMuiTheme","ReactDOM","render","StrictMode","CssBaseline","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.356a3ba9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/es.36938bbe.svg\";","module.exports = __webpack_public_path__ + \"static/media/pt.70a47eed.svg\";","module.exports = __webpack_public_path__ + \"static/media/uk.e5564902.svg\";","import React, { useState } from 'react';\r\nimport { IconButton, MenuItem, Menu } from '@material-ui/core';\r\nimport spainFlag from 'assets/es.svg';\r\nimport portugalFlag from 'assets/pt.svg';\r\nimport ukFlag from 'assets/uk.svg';\r\nimport globalFlag from 'assets/global.svg';\r\nimport { useHistory, useLocation, matchPath } from 'react-router-dom';\r\nexport type Language = 'es' | 'pt' | 'en' | 'all';\r\n\r\nexport interface ICountryMenuProps {\r\n  language: Language;\r\n}\r\nconst chooseFlag = (flag: Language) => {\r\n  switch (flag) {\r\n    case 'es':\r\n      return spainFlag;\r\n\r\n    case 'pt':\r\n      return portugalFlag;\r\n\r\n    case 'en':\r\n      return ukFlag;\r\n\r\n    case 'all':\r\n      return globalFlag;\r\n\r\n    default:\r\n      return globalFlag;\r\n  }\r\n};\r\nexport default function CountryMenu({ language }: ICountryMenuProps) {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n\r\n  const { pathname } = useLocation();\r\n  const { push } = useHistory();\r\n  // const apagar = matchPath(pathname, { path: '/:language/' });\r\n  const handleChangeLanguage = (newLanguage: Language) => {\r\n    localStorage.setItem('language', newLanguage);\r\n    setAnchorEl(null);\r\n    const regx = RegExp(`/${language}/`);\r\n    const newRoute = pathname.replace(regx, '/' + newLanguage + '/');\r\n    push(newRoute);\r\n  };\r\n  return (\r\n    <div>\r\n      <IconButton onClick={(e) => setAnchorEl(e.currentTarget)} style={{ padding: 0 }}>\r\n        <img src={chooseFlag(language)} alt=\"\" style={{ width: 20 }} />\r\n      </IconButton>\r\n\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={(_) => setAnchorEl(null)}\r\n        keepMounted\r\n        disableScrollLock={true}\r\n      >\r\n        <MenuItem onClick={(_) => handleChangeLanguage('all')}>\r\n          <img src={chooseFlag('all')} alt=\"\" style={{ width: 20 }} />\r\n        </MenuItem>\r\n\r\n        <MenuItem onClick={(_) => handleChangeLanguage('pt')}>\r\n          <img src={chooseFlag('pt')} alt=\"\" style={{ width: 20 }} />\r\n        </MenuItem>\r\n\r\n        <MenuItem onClick={(_) => handleChangeLanguage('es')}>\r\n          <img src={chooseFlag('es')} alt=\"\" style={{ width: 20 }} />\r\n        </MenuItem>\r\n\r\n        <MenuItem onClick={(_) => handleChangeLanguage('en')}>\r\n          <img src={chooseFlag('en')} alt=\"\" style={{ width: 20 }} />\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {\r\n  Container,\r\n  Grid,\r\n  makeStyles,\r\n  createStyles,\r\n  Button,\r\n  SvgIcon,\r\n  AppBar,\r\n  Toolbar,\r\n  Theme,\r\n} from '@material-ui/core';\r\nimport { NavLink, useLocation, Link } from 'react-router-dom';\r\n\r\nimport CountryMenu, { Language } from './country-menu';\r\nimport WhatshotTwoToneIcon from '@material-ui/icons/WhatshotTwoTone';\r\nimport AutorenewTwoToneIcon from '@material-ui/icons/AutorenewTwoTone';\r\nimport FindInPageTwoToneIcon from '@material-ui/icons/SearchTwoTone';\r\nimport SettingsTwoToneIcon from '@material-ui/icons/SettingsTwoTone';\r\nimport './nav.css';\r\nexport interface INavProps {\r\n  height?: number;\r\n  onDirectionChanges: () => void;\r\n  daysSince2020First: string;\r\n}\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      backgroundColor: theme.palette.type === 'light' ? 'white' : '#252424',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,.15)',\r\n      [theme.breakpoints.down('sm')]: {\r\n        bottom: 0,\r\n        top: 'unset',\r\n        boxShadow: '0 -2px 4px rgba(0,0,0,.15)',\r\n      },\r\n    },\r\n    buttonLabel: {\r\n      color: theme.typography.body2.color,\r\n      [theme.breakpoints.down('sm')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n    navButton: {\r\n      [theme.breakpoints.down('sm')]: {},\r\n    },\r\n  })\r\n);\r\n//-- TODO detect change in language. Manage state of CountryMenu\r\nconst initialLanguage = (localStorage.getItem('language') as Language) || 'all';\r\nexport default function Nav({ daysSince2020First }: INavProps) {\r\n  const { pathname } = useLocation();\r\n  const language = (pathname.split('/').filter((z) => z)[0] || initialLanguage) as Language;\r\n  const classes = useStyles();\r\n  return (\r\n    <AppBar className={classes.root}>\r\n      <Toolbar>\r\n        <Container>\r\n          <Grid\r\n            container\r\n            alignItems=\"center\"\r\n            spacing={1}\r\n            style={{ flexWrap: 'nowrap', overflow: 'auto' }}\r\n          >\r\n            <Grid item>\r\n              <NavLink to={`/${language}/front/`}>\r\n                <Button\r\n                  startIcon={\r\n                    <SvgIcon>\r\n                      <WhatshotTwoToneIcon />\r\n                    </SvgIcon>\r\n                  }\r\n                >\r\n                  <span className={classes.buttonLabel}>Destaques</span>\r\n                </Button>\r\n              </NavLink>\r\n            </Grid>\r\n            <Grid item>\r\n              <NavLink to={`/${language}/articles/new/${daysSince2020First}/`}>\r\n                <Button\r\n                  startIcon={\r\n                    <SvgIcon>\r\n                      <AutorenewTwoToneIcon />\r\n                    </SvgIcon>\r\n                  }\r\n                >\r\n                  <span className={classes.buttonLabel}>Recentes</span>\r\n                </Button>\r\n              </NavLink>\r\n            </Grid>\r\n\r\n            <Grid item>\r\n              <NavLink to={`/${language}/explore/trends/${daysSince2020First}/`}>\r\n                <Button\r\n                  startIcon={\r\n                    <SvgIcon>\r\n                      <FindInPageTwoToneIcon />\r\n                    </SvgIcon>\r\n                  }\r\n                >\r\n                  <span className={classes.buttonLabel}>Explorar</span>\r\n                </Button>\r\n              </NavLink>\r\n            </Grid>\r\n\r\n            <Grid item>\r\n              <CountryMenu language={language} />\r\n            </Grid>\r\n            {/* <Grid item>\r\n              <Link to={'#'}>\r\n                <Button\r\n                  startIcon={\r\n                    <SvgIcon>\r\n                      <SettingsTwoToneIcon width=\"24px\" height=\"24px\" />\r\n                    </SvgIcon>\r\n                  }\r\n                >\r\n                  <span className={classes.buttonLabel}>Definições</span>\r\n                </Button>\r\n              </Link>\r\n            </Grid> */}\r\n          </Grid>\r\n        </Container>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {\r\n  Dialog,\r\n  useMediaQuery,\r\n  IconButton,\r\n  DialogTitle,\r\n  DialogContent,\r\n  useTheme,\r\n  makeStyles,\r\n  createStyles,\r\n  Theme,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/CloseOutlined';\r\ninterface IFullTextArticle {\r\n  imageUrl: string;\r\n  title: string;\r\n  fullText: string;\r\n  showDialog: boolean;\r\n  onShowDialog: (e: boolean) => void;\r\n}\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    closeButton: {\r\n      zIndex: 1111,\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'none',\r\n      },\r\n      [theme.breakpoints.down('sm')]: {\r\n        position: 'fixed',\r\n        backgroundColor: 'rgba(200,0,0,.4)',\r\n        color: 'white',\r\n        right: 2,\r\n        top: 2,\r\n      },\r\n    },\r\n    dialogTitle: {\r\n      fontWeight: 'bold',\r\n      fontFamily: 'Quattrocento',\r\n      fontSize: '1.8em',\r\n      lineHeight: 1.3,\r\n    },\r\n  })\r\n);\r\nexport default function FullTextArticle({\r\n  imageUrl,\r\n  title,\r\n  fullText,\r\n  showDialog,\r\n  onShowDialog,\r\n}: IFullTextArticle) {\r\n  const theme = useTheme();\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <Dialog\r\n      maxWidth=\"md\"\r\n      fullWidth={true}\r\n      scroll=\"body\"\r\n      fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n      open={showDialog}\r\n      onClose={() => onShowDialog(false)}\r\n    >\r\n      <IconButton\r\n        size=\"small\"\r\n        color=\"secondary\"\r\n        onClick={(_) => onShowDialog(false)}\r\n        className={classes.closeButton}\r\n      >\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <img src={imageUrl} alt=\"\" style={{ width: '100%', objectFit: 'cover' }} />\r\n      <div\r\n        style={{\r\n          padding: useMediaQuery(theme.breakpoints.up('md')) ? '20px 40px 200px' : '0',\r\n        }}\r\n      >\r\n        <DialogTitle disableTypography={true} className={classes.dialogTitle}>\r\n          {title}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {fullText?.split(/[\\n]/g).map((p, i) => (\r\n            <p\r\n              style={{\r\n                color: theme.palette.grey[800],\r\n                textAlign: 'justify',\r\n              }}\r\n              key={i}\r\n            >\r\n              {p}\r\n            </p>\r\n          ))}\r\n        </DialogContent>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n","export const Category: { [key: number]: { portuguese: string; english: string } } = {\r\n  0: { portuguese: 'actualidade', english: 'news' },\r\n  1: { portuguese: 'desporto', english: 'sports' },\r\n  2: { portuguese: 'cultura', english: 'culture' },\r\n  3: { portuguese: 'ciência', english: 'science' },\r\n  4: { portuguese: 'história', english: 'history' },\r\n  5: { portuguese: 'religião', english: 'religion' },\r\n  6: { portuguese: 'diversão', english: 'fun' },\r\n  7: { portuguese: 'tecnologia', english: 'tech' },\r\n  8: { portuguese: 'tempo', english: 'weather' },\r\n};\r\n\r\ninterface ICategoryColor {\r\n  backgroundColor: string;\r\n  color: string;\r\n}\r\n\r\nexport const CategoryColor: { [key: number]: ICategoryColor } = {\r\n  0: { backgroundColor: 'gray', color: 'white' },\r\n  1: { backgroundColor: '#3d5afe', color: 'white' },\r\n  2: { backgroundColor: '#009688', color: 'white' },\r\n  3: { backgroundColor: '#b26a00', color: 'white' },\r\n  4: { backgroundColor: '#618833', color: 'white' },\r\n  5: { backgroundColor: '#6d1b7b', color: 'white' },\r\n  6: { backgroundColor: '#e91e63', color: 'white' },\r\n  7: { backgroundColor: '#2a3eb1', color: 'white' },\r\n  8: { backgroundColor: '#00a152', color: 'white' },\r\n};\r\n","import React, { useState } from 'react';\r\nimport FavoriteIcon from '@material-ui/icons/FavoriteBorder';\r\nimport ShowIcon from '@material-ui/icons/ChromeReaderModeOutlined';\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\n\r\nimport {\r\n  makeStyles,\r\n  Theme,\r\n  createStyles,\r\n  IconButton,\r\n  colors,\r\n  useTheme,\r\n  Hidden,\r\n  Paper,\r\n} from '@material-ui/core';\r\nimport { red, green } from '@material-ui/core/colors';\r\nimport { IArticle } from 'models/IArticle';\r\nimport { Link } from 'react-router-dom';\r\nimport FullTextArticle from './fulltext-article';\r\nimport { Category, CategoryColor } from 'models/category';\r\nexport interface IArticleProps extends IArticle {\r\n  direction?: 'row' | 'column';\r\n  bordered?: boolean;\r\n\r\n  onDescriptionTextSelected?: (id: number, text?: string) => void;\r\n}\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    card: {\r\n      borderRadius: '4px',\r\n      backgroundColor: (props) =>\r\n        props.direction === 'row' ? 'rgba(0, 0, 0, 0.08)' : 'transparent',\r\n      padding: (props) =>\r\n        props.imageUrl || props.direction === 'column'\r\n          ? theme.spacing(2)\r\n          : `${theme.spacing(4)}px ${theme.spacing(6)}px`,\r\n      display: 'flex',\r\n      flexDirection: (props: any) => props.direction,\r\n      maxWidth: (props) => (props.direction === 'row' ? '100%' : '32%'),\r\n      minWidth: '100%',\r\n      width: '100%',\r\n      // boxShadow: (props) => (props.bordered ? '0 2px 5px rgba(0,0,0,.2)' : 'none'),\r\n    },\r\n    body: { width: '100%', overflow: 'hidden' },\r\n    media: {\r\n      borderRadius: '4px',\r\n      marginRight: (props) => (props.direction === 'row' ? theme.spacing(3) : 0),\r\n      objectFit: 'cover',\r\n      objectPosition: 'center',\r\n      flexBasis: (props) => (props.direction === 'row' ? '32%' : '100%'),\r\n      width: (props) => (props.direction === 'row' ? '32%' : '100%'),\r\n      minWidth: (props) => (props.direction === 'row' ? '32%' : '100%'),\r\n      height: (props) => (props.direction === 'column' ? 150 : 'auto'),\r\n      maxHeight: (props) => (props.direction === 'column' ? 150 : 250),\r\n      minHeight: (props) => (props.direction === 'column' ? 150 : 'unset'),\r\n      overflow: 'hidden',\r\n      backgroundColor: 'lightgray',\r\n    },\r\n\r\n    title: {\r\n      lineHeight: '1.25em',\r\n\r\n      overflow: 'hidden',\r\n      maxHeight: 1.25 * 3 + 'em',\r\n      [theme.breakpoints.up('xs')]: { maxHeight: 1.25 * 7 + 'em' },\r\n      fontFamily: 'Quattrocento',\r\n      marginBottom: '.75rem',\r\n      color: theme.palette.text.primary,\r\n      textDecoration: 'none',\r\n      display: 'block',\r\n      '&:hover': {\r\n        color: colors.blue[600],\r\n        transition: 'color .3s',\r\n      },\r\n    },\r\n    description: {\r\n      fontFamily: 'Montserrat',\r\n      lineHeight: '1.4em',\r\n      maxHeight: 1.4 * 4 + 'em',\r\n      color: 'rgba(0,0,0,.64)',\r\n      overflow: 'hidden',\r\n      [theme.breakpoints.only('xs')]: {\r\n        display: (props) => (props.direction === 'row' ? 'none' : 'block'),\r\n      },\r\n    },\r\n    category: {\r\n      color: (props) => (CategoryColor as any)[props.categoryNumber]?.backgroundColor,\r\n\r\n      padding: '2px 6px',\r\n      borderRadius: '2em',\r\n      fontSize: 10,\r\n      display: 'inline-block',\r\n    },\r\n    meta: { fontSize: 14 },\r\n    avatar: {\r\n      width: 40,\r\n      height: 40,\r\n      marginRight: '0.8em',\r\n      borderRadius: '50%',\r\n      float: 'left',\r\n    },\r\n\r\n    actions: {\r\n      float: 'right',\r\n      display: 'flex',\r\n      height: 40,\r\n      justifyContent: 'space-evenly',\r\n      alignItems: 'center',\r\n    },\r\n    heart: {\r\n      display: 'flex',\r\n      color: 'rgba(0,0,0,.3)',\r\n      '&:hover': {\r\n        color: red[500],\r\n      },\r\n    },\r\n    readMore: {\r\n      display: 'flex',\r\n      color: 'rgba(0,0,0,.3)',\r\n      '&:hover': {\r\n        color: green[500],\r\n        backgroundColor: 'rgba(0, 100, 0, 0.03)',\r\n      },\r\n    },\r\n    visited: {\r\n      padding: '2px 4px',\r\n      fontSize: 12,\r\n      color: green[500],\r\n      marginTop: 16,\r\n    },\r\n  })\r\n);\r\nexport default function Article({\r\n  direction,\r\n  description,\r\n  title,\r\n  domain,\r\n  friendlyDate,\r\n  imageTitle,\r\n  imageUrl,\r\n  fullText,\r\n  url,\r\n  id,\r\n  ranking,\r\n  category: categoryNumber,\r\n  onDescriptionTextSelected,\r\n  clicks,\r\n  favicon,\r\n  language,\r\n  bordered = false,\r\n  tags,\r\n}: IArticleProps) {\r\n  const classes = useStyles({ direction, imageUrl, categoryNumber, bordered });\r\n\r\n  const theme = useTheme();\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  async function handleVisit() {\r\n    await (await fetch(`https://pokopek.com/api/articles/newvisit/${id}`)).json();\r\n  }\r\n  return (\r\n    <Paper elevation={0}>\r\n      <div className={classes.card} data-id={id} data-ranking={ranking}>\r\n        {imageUrl && (\r\n          <img\r\n            className={classes.media}\r\n            src={imageUrl.replace('http:', 'https:')}\r\n            title={imageTitle}\r\n            onError={(e) => (e.currentTarget.style.display = 'none')}\r\n            alt={imageTitle}\r\n          />\r\n        )}\r\n        <div className={classes.body}>\r\n          <span className={classes.category}>{Category[categoryNumber]?.portuguese}</span>\r\n          {tags && '> '}\r\n          {tags?.map((t) => (\r\n            <span className={classes.category}> {t}</span>\r\n          ))}\r\n\r\n          <h2 style={{ marginTop: 0 }}>\r\n            <a\r\n              onClick={handleVisit}\r\n              className={classes.title}\r\n              href={url}\r\n              target=\"_blank\"\r\n              rel=\"noreferrer noopener\"\r\n            >\r\n              {title}\r\n            </a>\r\n          </h2>\r\n          <p\r\n            className={classes.description}\r\n            onMouseUp={() =>\r\n              onDescriptionTextSelected &&\r\n              onDescriptionTextSelected(id, window.getSelection()?.toString().trim())\r\n            }\r\n            dangerouslySetInnerHTML={{ __html: description }}\r\n          ></p>\r\n          <div className={classes.meta}>\r\n            <img\r\n              src={favicon}\r\n              className={classes.avatar}\r\n              onError={(e) => (e.currentTarget.style.display = 'none')}\r\n              alt=\"icon\"\r\n              style={favicon === null ? { display: 'none' } : undefined}\r\n            />\r\n\r\n            <span style={{ display: 'inline-flex', flexDirection: 'column' }}>\r\n              <div style={{ color: 'rgba(0,0,0,.8)', fontWeight: 'bold' }}>\r\n                <Link to={`/${language?.toLowerCase()}/source/${domain}/`}>\r\n                  <span style={{ color: theme.palette.text.primary }}>{domain}</span>\r\n                </Link>\r\n              </div>\r\n              <span style={{ color: 'rgba(0,0,0,.6)' }}>{friendlyDate}</span>\r\n            </span>\r\n            <span className={classes.actions}>\r\n              <Hidden smUp>\r\n                <a href={`whatsapp://send?text=${url} (via Às Manchetes)`}>\r\n                  <IconButton color={'primary'} className={classes.readMore}>\r\n                    <WhatsAppIcon />\r\n                  </IconButton>\r\n                </a>\r\n              </Hidden>\r\n              {fullText && (\r\n                <IconButton\r\n                  color=\"primary\"\r\n                  onClick={(_) => {\r\n                    // -- TODO close modal with back button\r\n                    //  push(`${path}#${id}`);\r\n                    handleVisit();\r\n                    setShowDialog(!showDialog);\r\n                  }}\r\n                  className={classes.readMore}\r\n                >\r\n                  <ShowIcon />\r\n                  {clicks !== 0 && <span className={classes.visited}>{clicks}</span>}\r\n                </IconButton>\r\n              )}\r\n              <IconButton color={'secondary'} className={classes.heart}>\r\n                <FullTextArticle\r\n                  title={title}\r\n                  imageUrl={imageUrl}\r\n                  fullText={fullText}\r\n                  showDialog={showDialog}\r\n                  onShowDialog={setShowDialog}\r\n                />\r\n                <FavoriteIcon />\r\n              </IconButton>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { grey } from '@material-ui/core/colors';\r\ninterface ILoaderProps {\r\n  text?: string;\r\n  fontSize?: number;\r\n  color?: string;\r\n}\r\nexport default function NewsLoader({\r\n  text = 'a carregar',\r\n  fontSize = 14,\r\n  color = 'rgb(37 152 243)',\r\n}: ILoaderProps) {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        padding: 20,\r\n        color: color,\r\n      }}\r\n    >\r\n      <span\r\n        style={{\r\n          marginRight: '1em',\r\n          fontSize: fontSize,\r\n          lineHeight: 1,\r\n          fontFamily: 'Montserrat',\r\n        }}\r\n      >\r\n        {text}\r\n      </span>\r\n\r\n      <svg\r\n        width={fontSize * 2}\r\n        height={fontSize}\r\n        viewBox=\"0 0 120 30\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        fill={color}\r\n      >\r\n        <circle cx=\"15\" cy=\"15\" r=\"15\">\r\n          <animate\r\n            attributeName=\"r\"\r\n            from=\"15\"\r\n            to=\"15\"\r\n            begin=\"0s\"\r\n            dur=\"0.8s\"\r\n            values=\"15;9;15\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n          <animate\r\n            attributeName=\"fill-opacity\"\r\n            from=\"1\"\r\n            to=\"1\"\r\n            begin=\"0s\"\r\n            dur=\"0.8s\"\r\n            values=\"1;.5;1\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n        </circle>\r\n        <circle cx=\"60\" cy=\"15\" r=\"9\" fillOpacity=\"0.3\">\r\n          <animate\r\n            attributeName=\"r\"\r\n            from=\"9\"\r\n            to=\"9\"\r\n            begin=\"0s\"\r\n            dur=\"0.8s\"\r\n            values=\"9;15;9\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n          <animate\r\n            attributeName=\"fill-opacity\"\r\n            from=\"0.5\"\r\n            to=\"0.5\"\r\n            begin=\"0s\"\r\n            dur=\"0.8s\"\r\n            values=\".5;1;.5\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n        </circle>\r\n        <circle cx=\"105\" cy=\"15\" r=\"15\">\r\n          <animate\r\n            attributeName=\"r\"\r\n            from=\"15\"\r\n            to=\"15\"\r\n            begin=\"0s\"\r\n            dur=\"0.8s\"\r\n            values=\"15;9;15\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n          <animate\r\n            attributeName=\"fill-opacity\"\r\n            from=\"1\"\r\n            to=\"1\"\r\n            begin=\"0s\"\r\n            dur=\"0.8s\"\r\n            values=\"1;.5;1\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n        </circle>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","export const ThresholdUnits = {\r\n  Pixel: 'Pixel',\r\n  Percent: 'Percent',\r\n};\r\n\r\nconst defaultThreshold = {\r\n  unit: ThresholdUnits.Percent,\r\n  value: 0.8,\r\n};\r\n\r\nexport function parseThreshold(scrollThreshold: string | number) {\r\n  if (typeof scrollThreshold === 'number') {\r\n    return {\r\n      unit: ThresholdUnits.Percent,\r\n      value: scrollThreshold * 100,\r\n    };\r\n  }\r\n\r\n  if (typeof scrollThreshold === 'string') {\r\n    if (scrollThreshold.match(/^(\\d*(\\.\\d+)?)px$/)) {\r\n      return {\r\n        unit: ThresholdUnits.Pixel,\r\n        value: parseFloat(scrollThreshold),\r\n      };\r\n    }\r\n\r\n    if (scrollThreshold.match(/^(\\d*(\\.\\d+)?)%$/)) {\r\n      return {\r\n        unit: ThresholdUnits.Percent,\r\n        value: parseFloat(scrollThreshold),\r\n      };\r\n    }\r\n\r\n    console.warn(\r\n      'scrollThreshold format is invalid. Valid formats: \"120px\", \"50%\"...'\r\n    );\r\n\r\n    return defaultThreshold;\r\n  }\r\n\r\n  console.warn('scrollThreshold should be string or number');\r\n\r\n  return defaultThreshold;\r\n}\r\n","import React, { Component, ReactNode, CSSProperties } from 'react';\r\nimport { throttle } from 'throttle-debounce';\r\nimport { ThresholdUnits, parseThreshold } from 'components/infinite-scroll/thresholds';\r\n\r\ntype Fn = () => any;\r\nexport interface Props {\r\n  next: Fn;\r\n  hasMore: boolean;\r\n  children: ReactNode;\r\n  loader: ReactNode;\r\n  scrollThreshold?: number | string;\r\n  endMessage?: ReactNode;\r\n  style?: CSSProperties;\r\n  height?: number | string;\r\n  scrollableTarget?: ReactNode;\r\n  hasChildren?: boolean;\r\n\r\n  refreshFunction?: Fn;\r\n  onScroll?: (e: MouseEvent) => any;\r\n  dataLength: number;\r\n  initialScrollY?: number;\r\n  key?: string;\r\n  className?: string;\r\n}\r\n\r\ninterface State {\r\n  showLoader: boolean;\r\n  pullToRefreshThresholdBreached: boolean;\r\n}\r\n\r\nexport default class InfiniteScroll extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showLoader: false,\r\n      pullToRefreshThresholdBreached: false,\r\n    };\r\n\r\n    this.throttledOnScrollListener = throttle(150, this.onScrollListener).bind(this);\r\n    this.onStart = this.onStart.bind(this);\r\n    this.onMove = this.onMove.bind(this);\r\n    this.onEnd = this.onEnd.bind(this);\r\n  }\r\n\r\n  private throttledOnScrollListener: (e: MouseEvent) => void;\r\n  private _scrollableNode: HTMLElement | undefined | null;\r\n  private el: HTMLElement | undefined | (Window & typeof globalThis);\r\n  private _infScroll: HTMLDivElement | undefined;\r\n  private lastScrollTop = 0;\r\n  private actionTriggered = false;\r\n\r\n  // variables to keep track of pull down behaviour\r\n  private startY = 0;\r\n  private currentY = 0;\r\n  private dragging = false;\r\n\r\n  // will be populated in componentDidMount\r\n  // based on the height of the pull down element\r\n  private maxPullDownDistance = 0;\r\n\r\n  componentDidMount() {\r\n    if (typeof this.props.dataLength === 'undefined') {\r\n      throw new Error(\r\n        `mandatory prop \"dataLength\" is missing. The prop is needed` +\r\n          ` when loading more content. Check README.md for usage`\r\n      );\r\n    }\r\n\r\n    this._scrollableNode = this.getScrollableTarget();\r\n    this.el = this.props.height ? this._infScroll : this._scrollableNode || window;\r\n\r\n    if (this.el) {\r\n      this.el.addEventListener(\r\n        'scroll',\r\n        this.throttledOnScrollListener as EventListenerOrEventListenerObject\r\n      );\r\n    }\r\n\r\n    if (\r\n      typeof this.props.initialScrollY === 'number' &&\r\n      this.el &&\r\n      this.el instanceof HTMLElement &&\r\n      this.el.scrollHeight > this.props.initialScrollY\r\n    ) {\r\n      this.el.scrollTo(0, this.props.initialScrollY);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.el) {\r\n      this.el.removeEventListener(\r\n        'scroll',\r\n        this.throttledOnScrollListener as EventListenerOrEventListenerObject\r\n      );\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(props: Props) {\r\n    // do nothing when dataLength and key are unchanged\r\n    if (this.props.key === props.key && this.props.dataLength === props.dataLength) return;\r\n\r\n    this.actionTriggered = false;\r\n    // update state when new data was sent in\r\n    this.setState({\r\n      showLoader: false,\r\n    });\r\n  }\r\n\r\n  getScrollableTarget = () => {\r\n    if (this.props.scrollableTarget instanceof HTMLElement) return this.props.scrollableTarget;\r\n    if (typeof this.props.scrollableTarget === 'string') {\r\n      return document.getElementById(this.props.scrollableTarget);\r\n    }\r\n    if (this.props.scrollableTarget === null) {\r\n      console.warn(`You are trying to pass scrollableTarget but it is null. This might\r\n        happen because the element may not have been added to DOM yet.\r\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\r\n      `);\r\n    }\r\n    return null;\r\n  };\r\n\r\n  onStart: EventListener = (evt: Event) => {\r\n    if (this.lastScrollTop) return;\r\n\r\n    this.dragging = true;\r\n\r\n    if (evt instanceof MouseEvent) {\r\n      this.startY = evt.pageY;\r\n    } else if (evt instanceof TouchEvent) {\r\n      this.startY = evt.touches[0].pageY;\r\n    }\r\n    this.currentY = this.startY;\r\n\r\n    if (this._infScroll) {\r\n      this._infScroll.style.willChange = 'transform';\r\n      this._infScroll.style.transition = `transform 0.2s cubic-bezier(0,0,0.31,1)`;\r\n    }\r\n  };\r\n\r\n  onMove: EventListener = (evt: Event) => {\r\n    if (!this.dragging) return;\r\n\r\n    if (evt instanceof MouseEvent) {\r\n      this.currentY = evt.pageY;\r\n    } else if (evt instanceof TouchEvent) {\r\n      this.currentY = evt.touches[0].pageY;\r\n    }\r\n\r\n    // user is scrolling down to up\r\n    if (this.currentY < this.startY) return;\r\n\r\n    // so you can drag upto 1.5 times of the maxPullDownDistance\r\n    if (this.currentY - this.startY > this.maxPullDownDistance * 1.5) return;\r\n\r\n    if (this._infScroll) {\r\n      this._infScroll.style.overflow = 'visible';\r\n      this._infScroll.style.transform = `translate3d(0px, ${this.currentY - this.startY}px, 0px)`;\r\n    }\r\n  };\r\n\r\n  onEnd: EventListener = () => {\r\n    this.startY = 0;\r\n    this.currentY = 0;\r\n\r\n    this.dragging = false;\r\n\r\n    if (this.state.pullToRefreshThresholdBreached) {\r\n      this.props.refreshFunction && this.props.refreshFunction();\r\n      this.setState({\r\n        pullToRefreshThresholdBreached: false,\r\n      });\r\n    }\r\n\r\n    requestAnimationFrame(() => {\r\n      // this._infScroll\r\n      if (this._infScroll) {\r\n        this._infScroll.style.overflow = 'auto';\r\n        this._infScroll.style.transform = 'none';\r\n        this._infScroll.style.willChange = 'none';\r\n      }\r\n    });\r\n  };\r\n\r\n  isElementAtBottom(target: HTMLElement, scrollThreshold: string | number = 0.8) {\r\n    const clientHeight =\r\n      target === document.body || target === document.documentElement\r\n        ? window.screen.availHeight\r\n        : target.clientHeight;\r\n\r\n    const threshold = parseThreshold(scrollThreshold);\r\n\r\n    if (threshold.unit === ThresholdUnits.Pixel) {\r\n      return target.scrollTop + clientHeight >= target.scrollHeight - threshold.value;\r\n    }\r\n\r\n    return target.scrollTop + clientHeight >= (threshold.value / 100) * target.scrollHeight;\r\n  }\r\n\r\n  onScrollListener = (event: MouseEvent) => {\r\n    if (typeof this.props.onScroll === 'function') {\r\n      // Execute this callback in next tick so that it does not affect the\r\n      // functionality of the library.\r\n      setTimeout(() => this.props.onScroll && this.props.onScroll(event), 0);\r\n    }\r\n\r\n    const target =\r\n      this.props.height || this._scrollableNode\r\n        ? (event.target as HTMLElement)\r\n        : document.documentElement.scrollTop\r\n        ? document.documentElement\r\n        : document.body;\r\n\r\n    // return immediately if the action has already been triggered,\r\n    // prevents multiple triggers.\r\n    if (this.actionTriggered) return;\r\n\r\n    const atBottom = this.isElementAtBottom(target, this.props.scrollThreshold);\r\n\r\n    // call the `next` function in the props to trigger the next data fetch\r\n    if (atBottom && this.props.hasMore) {\r\n      this.actionTriggered = true;\r\n      this.setState({ showLoader: true });\r\n      this.props.next && this.props.next();\r\n    }\r\n\r\n    this.lastScrollTop = target.scrollTop;\r\n  };\r\n\r\n  render() {\r\n    const style = {\r\n      height: this.props.height || 'auto',\r\n      overflow: 'auto',\r\n      WebkitOverflowScrolling: 'touch',\r\n      ...this.props.style,\r\n    } as CSSProperties;\r\n    const hasChildren =\r\n      this.props.hasChildren ||\r\n      !!(this.props.children && this.props.children instanceof Array && this.props.children.length);\r\n\r\n    // because heighted infiniteScroll visualy breaks\r\n    // on drag down as overflow becomes visible\r\n    const outerDivStyle = this.props.height ? { overflow: 'auto' } : {};\r\n    return (\r\n      <div style={outerDivStyle} className=\"infinite-scroll-component__outerdiv\">\r\n        <div\r\n          className={`infinite-scroll-component ${this.props.className || ''}`}\r\n          ref={(infScroll: HTMLDivElement) => (this._infScroll = infScroll)}\r\n          style={style}\r\n        >\r\n          {this.props.children}\r\n          {!this.state.showLoader && !hasChildren && this.props.hasMore && this.props.loader}\r\n          {this.state.showLoader && this.props.hasMore && this.props.loader}\r\n          {!this.props.hasMore && this.props.endMessage}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export function htmlDecode(text: string) {\r\n  let doc: Document | null = new DOMParser().parseFromString(text, 'text/html');\r\n  let result = doc.documentElement.textContent;\r\n  doc = null;\r\n\r\n  return result;\r\n}\r\n\r\nexport function reduceTags(tags: string): string[] {\r\n  const result = tags.split(' | ').splice(0, 4);\r\n\r\n  return result;\r\n}\r\n\r\nexport function getLocalStorageObject<T>(item: string) {\r\n  const storedCategoriesString = localStorage.getItem(item);\r\n  const result: T | null =\r\n    storedCategoriesString === null ? null : JSON.parse(storedCategoriesString);\r\n  return result;\r\n}\r\n\r\nexport function setLocalStorageObject(item: string, object: any) {\r\n  const stringObject = JSON.stringify(object);\r\n  localStorage.setItem(item, stringObject);\r\n}\r\n\r\nexport const getDaysSince2020First = (today?: Date) => {\r\n  const firstDay = new Date(2020, 0, 1);\r\n  if (today == null) {\r\n    today = new Date();\r\n  }\r\n  const elapsedMilliseconds = today.valueOf() - firstDay.valueOf();\r\n  const days = Math.trunc(elapsedMilliseconds / (1000 * 60 * 60 * 24));\r\n  return days;\r\n};\r\n\r\nexport function formatDate(date: Date) {\r\n  var day = date.getUTCDate();\r\n  var month = date.getUTCMonth() + 1;\r\n  var year = date.getUTCFullYear();\r\n\r\n  return day + ' - ' + month + ' - ' + year;\r\n}\r\n","import { getLocalStorageObject } from 'lib/utils';\r\nimport React, { createContext, useContext, useState, useMemo } from 'react';\r\nimport { Category } from 'models/category';\r\n\r\nconst initialCategories =\r\n  getLocalStorageObject<any>('categories') || Object.keys(Category).map((c) => Number(c));\r\n\r\nconst CategoriesContext = createContext(initialCategories);\r\n\r\nexport function useCategories(): {\r\n  categories: number[];\r\n  setCategories: (categories: number[]) => void;\r\n} {\r\n  const context = useContext(CategoriesContext);\r\n  return context;\r\n}\r\n\r\nexport function SettingsProvider(props: any) {\r\n  const [categories, setCategories] = useState(initialCategories);\r\n  const value = useMemo(() => ({ categories, setCategories }), [categories]);\r\n  return <CategoriesContext.Provider value={value} {...props} />;\r\n}\r\n","import React from 'react';\r\nimport {\r\n  List,\r\n  ListItem,\r\n  Switch,\r\n  ListItemText,\r\n  makeStyles,\r\n  Theme,\r\n  createStyles,\r\n} from '@material-ui/core';\r\nimport { Category } from 'models/category';\r\nimport { useCategories } from 'context/settings-context';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    stickyPannel: {\r\n      position: (props: CategoriesListProps) => props.position,\r\n      top: 180,\r\n      borderRadius: 8,\r\n      backgroundColor: (props: CategoriesListProps) =>\r\n        props.position === 'fixed' ? 'rgba(0,0,0,.08)' : undefined,\r\n      maxHeight: '90vh',\r\n      [theme.breakpoints.up('md')]: {\r\n        overflow: 'hidden',\r\n        '&:hover': {\r\n          overflowY: 'auto',\r\n        },\r\n      },\r\n    },\r\n    header: {\r\n      fontWeight: 'bold',\r\n      marginTop: theme.spacing(2),\r\n      marginLeft: theme.spacing(2),\r\n      paddingBottom: 3,\r\n      borderBottom: '1px solid ',\r\n      display: 'inline-block',\r\n    },\r\n    link: {\r\n      color: theme.palette.text.primary,\r\n      '&:hover': {\r\n        color: '#1e88e5',\r\n        transition: 'color .2s',\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\ninterface CategoriesListProps {\r\n  position?: 'fixed' | undefined;\r\n}\r\nexport default function CategoriesList({ position }: CategoriesListProps) {\r\n  const { categories, setCategories } = useCategories();\r\n  const handleToggleCategory = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const category = Number(e.target.name);\r\n\r\n    let newCategories: number[] = [...categories];\r\n\r\n    if (categories.includes(category)) {\r\n      newCategories = categories.filter((c: any) => c !== category);\r\n    } else {\r\n      newCategories.push(category);\r\n    }\r\n    localStorage.setItem('categories', JSON.stringify(newCategories));\r\n    setCategories(newCategories);\r\n  };\r\n  const classes = useStyles({ position });\r\n  return (\r\n    <>\r\n      <div className={classes.stickyPannel}>\r\n        <List>\r\n          {Object.values(Category).map((category, i) => {\r\n            return (\r\n              <ListItem key={category.portuguese}>\r\n                <Switch\r\n                  checked={categories.includes(i)}\r\n                  name={i.toString()}\r\n                  color=\"primary\"\r\n                  onChange={handleToggleCategory}\r\n                  size=\"small\"\r\n                />\r\n\r\n                <ListItemText>\r\n                  <span style={{ marginLeft: 8 }}>{category.portuguese}</span>\r\n                </ListItemText>\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </List>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","export const translateIntoPortuguese = (text: string) => {\r\n  const portugueseDictionary: { [keyword: string]: string } = {\r\n    culture: 'cultura',\r\n    news: 'actualidade',\r\n    sports: 'desporto',\r\n    science: 'ciência',\r\n    religion: 'religião',\r\n    fun: 'diversão',\r\n    tech: 'tecnologia',\r\n    weather: 'tempo',\r\n    history: 'história',\r\n    en: 'inglês',\r\n    es: 'espanhol',\r\n    pt: 'português',\r\n    all: 'todas as línguas',\r\n  };\r\n  return portugueseDictionary[text];\r\n};\r\n","import { IApiParameters } from 'models/IApiParameters';\r\n\r\nexport const getApiUrl = ({\r\n  baseUrl,\r\n  pageNumber,\r\n  pageSize,\r\n  language,\r\n  domain,\r\n  searchTerm,\r\n  daysSince2020First,\r\n  categories,\r\n  order,\r\n  id,\r\n}: IApiParameters): string => {\r\n  const parts: string[] = [];\r\n\r\n  if (categories) {\r\n    parts.push(`categories=${categories.join(',')}`);\r\n  }\r\n  if (pageNumber) {\r\n    parts.push(`pageNumber=${pageNumber}`);\r\n  }\r\n\r\n  if (pageSize) {\r\n    parts.push(`pageSize=${pageSize}`);\r\n  }\r\n\r\n  if (language && language !== 'all' && domain === undefined) {\r\n    parts.push(`language=${language}`);\r\n  }\r\n  if (domain) {\r\n    parts.push(`domain=${domain}`);\r\n  }\r\n\r\n  if (searchTerm) {\r\n    parts.push(`search=\"${searchTerm}\"`);\r\n  }\r\n\r\n  if (daysSince2020First && !domain) {\r\n    parts.push(`dayssince2020first=${daysSince2020First}`);\r\n  }\r\n\r\n  if (id) {\r\n    parts.push(`id=${id}`);\r\n  }\r\n\r\n  if (order) {\r\n    parts.push(`order=${order}`);\r\n  }\r\n\r\n  const query = parts?.join('&');\r\n  const final = baseUrl + '?' + query;\r\n  return final;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { IArticle } from 'models/IArticle';\r\nimport { Grid, useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nimport Article from 'components/article/article';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport NewsLoader from 'components/loader/loader';\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport InfiniteScroll from 'components/infinite-scroll/infinite-scroll';\r\nimport { IPagination } from 'models/IPagination';\r\nimport CategoriesList from 'components/explore/categories/categories-list';\r\nimport { translateIntoPortuguese } from 'lib/localizer';\r\nimport { useCategories } from 'context/settings-context';\r\nimport { getApiUrl } from './apiFunctions';\r\nimport { List } from 'linq-collections';\r\n\r\nexport interface IArticlesContainerProps {\r\n  direction: 'row' | 'column';\r\n}\r\n\r\nexport default function ArticlesContainer({ direction }: IArticlesContainerProps) {\r\n  //state\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'), { noSsr: true });\r\n  const [err, setErr] = useState<Boolean>(false);\r\n  const [pagination, setPagination] = useState<IPagination>();\r\n\r\n  const [articles, setArticles] = useState<IArticle[]>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n  //pageNumber starts at 2 because first page is loaded by useffect\r\n  const [pageNumber, setPageNumber] = useState<number>(2);\r\n  const { categories } = useCategories();\r\n  let { language, searchTerm, domain, order, daysSince2020First, topicId } = useParams<any>();\r\n\r\n  //if language is not set\r\n  language = language ?? localStorage.getItem('language') ?? 'all';\r\n\r\n  // for fetch articles\r\n  //--Could be custom hook!\r\n  useEffect(() => {\r\n    const fetchArts = async () => {\r\n      const baseUrl = topicId\r\n        ? `https://pokopek.com/api/articles/topic`\r\n        : `https://pokopek.com/api/articles`;\r\n      const apiUrl = getApiUrl({\r\n        pageNumber: 1,\r\n        baseUrl,\r\n        categories,\r\n        daysSince2020First,\r\n        domain,\r\n        language,\r\n        order,\r\n        searchTerm,\r\n        id: topicId,\r\n      });\r\n      try {\r\n        const response = await fetch(apiUrl);\r\n        let paginationHeaders = response.headers.get('X-Pagination')!;\r\n        let paginationJson: IPagination = JSON.parse(paginationHeaders);\r\n        setPagination(paginationJson);\r\n        let newArticles = await response.json();\r\n\r\n        //if it's a topic, sort descending by more recent\r\n        if (topicId) {\r\n          newArticles = new List<IArticle>(newArticles).orderByDescending((a) => a.id).toArray();\r\n        }\r\n        setArticles(newArticles);\r\n        if (err === true) setErr(false);\r\n      } catch {\r\n        setErr(true);\r\n      }\r\n\r\n      setIsLoading(false);\r\n    };\r\n\r\n    setIsLoading(true);\r\n    fetchArts();\r\n\r\n    //2 (two), because the first page has been got here, and the infinite scroll should take the second page\r\n    setPageNumber(2);\r\n    //-- useEffect dependencies array\r\n  }, [language, domain, order, categories, searchTerm, daysSince2020First]);\r\n\r\n  //when reaches end of page\r\n  const loadMore = async () => {\r\n    if (isLoading || !pagination?.HasNext) {\r\n      return;\r\n    }\r\n    const baseUrl = topicId\r\n      ? `https://pokopek.com/api/articles/topic`\r\n      : `https://pokopek.com/api/articles`;\r\n    const apiUrl = getApiUrl({\r\n      baseUrl,\r\n      pageNumber,\r\n      categories,\r\n      daysSince2020First,\r\n      domain,\r\n      language,\r\n      order,\r\n      searchTerm,\r\n      id: topicId,\r\n    });\r\n    const response = await fetch(apiUrl);\r\n    let paginationHeaders = response.headers.get('X-Pagination')!;\r\n    let paginationJson: IPagination = JSON.parse(paginationHeaders);\r\n    setPagination(paginationJson);\r\n    const arts = await response.json();\r\n    const newArts = new List<IArticle>([...articles, ...arts])\r\n      .distinct((a) => a.id)\r\n      .toArray();\r\n\r\n    setArticles(newArts);\r\n    setPageNumber(pageNumber + 1);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  //replace selected text with a link to search that text\r\n  const handleSelectDescriptionText = (articleId: number, selectedText?: string) => {\r\n    if (!selectedText?.trim()) {\r\n      return;\r\n    }\r\n    let article = articles.find((a) => a.id === articleId)!;\r\n    let description = article.description.replace(\r\n      RegExp(`${selectedText}`),\r\n      `<a href=\"/portugalasmanchetes/#/${language}/search/${selectedText}\" style=\"font-weight:bold;color:blue;text-decoration:underline\">${selectedText}</a>`\r\n    );\r\n    let newArticles = [...articles];\r\n    newArticles.find((a) => a.id === articleId)!.description = description;\r\n\r\n    setArticles(newArticles);\r\n  };\r\n\r\n  return (\r\n    <Grid container>\r\n      {err && (\r\n        <Alert severity=\"error\">\r\n          Pedimos desculpas. Neste momento, o site está a implementar algumas mudanças. Volte mais\r\n          tarde\r\n        </Alert>\r\n      )}\r\n      <Grid item sm={12} md={8}>\r\n        {order && <h3 style={{ paddingLeft: 8 }}>Recentes</h3>}\r\n        {searchTerm && <h3 style={{ paddingLeft: 8 }}>Pesquisas</h3>}\r\n        <InfiniteScroll\r\n          dataLength={articles.length}\r\n          endMessage={\r\n            <Alert\r\n              style={{ marginTop: 18, maxWidth: direction === 'column' ? '100' : '83%' }}\r\n              severity=\"info\"\r\n            >\r\n              Não há mais artigos deste tipo em <b>{translateIntoPortuguese(language)}</b>\r\n            </Alert>\r\n          }\r\n          next={loadMore}\r\n          hasMore={isLoading || pagination === undefined || pagination?.HasNext}\r\n          loader={null}\r\n          style={{ overflow: 'hidden' }}\r\n        >\r\n          {!isLoading && searchTerm && articles.length > 0 && (\r\n            <Alert\r\n              icon={false}\r\n              style={{ margin: '8px 0 16px 0', maxWidth: direction === 'column' ? '100' : '83%' }}\r\n              severity=\"info\"\r\n            >\r\n              Foram encontrados <b>{pagination?.TotalCount.toLocaleString()}</b> artigos com o texto\r\n              <b> {searchTerm}</b> em <b>{translateIntoPortuguese(language)}</b>\r\n            </Alert>\r\n          )}\r\n\r\n          {!isLoading && !searchTerm && !domain && categories && (\r\n            <Alert\r\n              icon={false}\r\n              style={{ margin: '8px 0 16px 0', maxWidth: direction === 'column' ? '100' : '83%' }}\r\n              severity=\"info\"\r\n            >\r\n              Hoje há <b>{pagination?.TotalCount.toLocaleString()}</b> artigos em{' '}\r\n              <b>{translateIntoPortuguese(language)}</b>\r\n            </Alert>\r\n          )}\r\n          {!isLoading && domain && (\r\n            <Alert\r\n              icon={false}\r\n              style={{ margin: '8px 0 16px 0', maxWidth: direction === 'column' ? '100' : '83%' }}\r\n              severity=\"info\"\r\n            >\r\n              Há <b>{pagination?.TotalCount.toLocaleString()}</b> artigos do site <b>{domain}</b>\r\n            </Alert>\r\n          )}\r\n          <Grid container spacing={2}>\r\n            {isLoading && <NewsLoader text=\"a carregar\" fontSize={14} />}\r\n            {!isLoading &&\r\n              articles.map((article, i, arts) => {\r\n                return (\r\n                  <React.Fragment key={article.id}>\r\n                    {i !== 0 && arts[i - 1].daysSince2020First !== article.daysSince2020First && (\r\n                      <h2 style={{ width: '100%', paddingLeft: 8 }}>{article.friendlyDate}</h2>\r\n                    )}\r\n                    <Grid\r\n                      item\r\n                      key={article.id}\r\n                      xs={12}\r\n                      sm={direction === 'row' ? 12 : 6}\r\n                      md={direction === 'row' ? 10 : 4}\r\n                      lg={direction === 'row' ? 10 : 4}\r\n                      style={{ maxWidth: '100vw !important' }}\r\n                    >\r\n                      <Article\r\n                        direction={direction}\r\n                        {...article}\r\n                        onDescriptionTextSelected={handleSelectDescriptionText}\r\n                      />\r\n                    </Grid>\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n          </Grid>\r\n        </InfiniteScroll>\r\n      </Grid>\r\n      {!isMobile && (\r\n        <Grid item md={3}>\r\n          <CategoriesList position=\"fixed\" />\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme, createStyles, fade, InputBase } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/SearchOutlined';\r\nimport { useHistory, useParams } from 'react-router';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: '100%',\r\n      backgroundColor: 'rgba(0,0,0,.04)',\r\n      borderRadius: 7,\r\n      padding: theme.spacing(),\r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(1),\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      borderRadius: theme.shape.borderRadius,\r\n\r\n      [theme.breakpoints.only('xs')]: {},\r\n    },\r\n  })\r\n);\r\n\r\nexport interface ISearchProps {}\r\nexport default function Search() {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const classes = useStyles();\r\n  const { push } = useHistory();\r\n  const { language } = useParams<any>();\r\n  return (\r\n    <div className={classes.search}>\r\n      <div className={classes.searchIcon}>\r\n        <SearchIcon />\r\n      </div>\r\n      <form\r\n        onSubmit={(_) => {\r\n          _.preventDefault();\r\n\r\n          push(`/${language}/search/${searchTerm}`);\r\n        }}\r\n      >\r\n        {/* //  TODO Show last searches */}\r\n        <InputBase\r\n          value={searchTerm}\r\n          placeholder=\"Procurar em Portugal às Manchetes\"\r\n          onChange={(e) => {\r\n            setSearchTerm(e.currentTarget.value);\r\n          }}\r\n          classes={{\r\n            root: classes.root,\r\n            input: classes.inputInput,\r\n          }}\r\n          inputProps={{ 'aria-label': 'search' }}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { Tabs } from '@material-ui/core';\r\nexport const TabLabelMenu = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      textTransform: 'none',\r\n      minWidth: 72,\r\n\r\n      marginRight: theme.spacing(4),\r\n\r\n      '&:hover': {\r\n        color: '#40a9ff',\r\n        opacity: 1,\r\n      },\r\n      '&$selected': {\r\n        color: '#1890ff',\r\n        fontWeight: theme.typography.fontWeightMedium,\r\n      },\r\n      '&:focus': {\r\n        color: '#40a9ff',\r\n      },\r\n    },\r\n    selected: {},\r\n  })\r\n)((props: StyledTabProps) => <Tab disableRipple {...props} />);\r\ninterface StyledTabProps {\r\n  label: string;\r\n  onClick?: (e?: any) => void;\r\n}\r\nexport const TabsGroup = withStyles({\r\n  root: {\r\n    borderBottom: '1px solid #e8e8e8',\r\n  },\r\n  indicator: {\r\n    backgroundColor: '#1890ff',\r\n  },\r\n})(Tabs);\r\n\r\nexport const useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n","import React, { useState } from 'react';\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  IconButton,\r\n  makeStyles,\r\n  createStyles,\r\n  Theme,\r\n} from '@material-ui/core';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport StarIcon from '@material-ui/icons/Notifications';\r\nimport { Category } from 'models/category';\r\nimport Filter from './filter';\r\nimport { ITab } from './tabs/explore-tabs';\r\n\r\nexport interface ISubscriptionsProps {\r\n  subscriptions: string[];\r\n  onFilterSubscriptions?: (filterTerm: string) => void;\r\n\r\n  subscriptionType: ITab;\r\n  position?: 'sticky';\r\n}\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    stickyPannel: {\r\n      position: 'sticky',\r\n      top: 80,\r\n      maxHeight: '90vh',\r\n      [theme.breakpoints.up('md')]: {\r\n        overflow: 'hidden',\r\n        '&:hover': {\r\n          overflowY: 'auto',\r\n        },\r\n      },\r\n    },\r\n    header: {\r\n      fontWeight: 'bold',\r\n      marginTop: theme.spacing(2),\r\n      marginLeft: theme.spacing(2),\r\n      paddingBottom: 3,\r\n      borderBottom: '1px solid ',\r\n      display: 'inline-block',\r\n    },\r\n    link: {\r\n      color: theme.palette.text.primary,\r\n      '&:hover': {\r\n        color: '#1e88e5',\r\n        transition: 'color .2s',\r\n      },\r\n    },\r\n  })\r\n);\r\nexport default function SubscriptionsListOld({\r\n  subscriptions,\r\n  subscriptionType,\r\n  position,\r\n  onFilterSubscriptions,\r\n}: ISubscriptionsProps) {\r\n  const classes = useStyles();\r\n  const { language } = useParams<any>();\r\n\r\n  // url to route the subscription depending on type\r\n  const getUrl = (subscription: string, subscriptionNumber: number) => {\r\n    switch (subscriptionType) {\r\n      case 'categories':\r\n        return `/${language || ''}/articles/` + Category[subscriptionNumber].english + '/relevant';\r\n\r\n      case 'sources':\r\n        return `/${language}/source/` + subscription;\r\n\r\n      case 'subscriptions':\r\n        return '/subscriptions';\r\n\r\n      case 'trends':\r\n        return `/${language ?? ''}/articles/topic?ids=${subscriptions}`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={position === 'sticky' ? classes.stickyPannel : undefined}>\r\n      {/* {subscriptionType !== 'categories' && subscriptionType !== 'subscriptions' && (\r\n        <Filter onChange={(e) => onFilterSubscriptions && onFilterSubscriptions(e)} />\r\n      )} */}\r\n      <List>\r\n        {subscriptions.length > 0 &&\r\n          subscriptions.map((subscription, i) => {\r\n            const link = getUrl(subscription, i);\r\n            return (\r\n              <ListItem key={subscription}>\r\n                <IconButton>\r\n                  <StarIcon />\r\n                </IconButton>\r\n\r\n                <ListItemText>\r\n                  <Link to={link}>\r\n                    <span className={classes.link}>{subscription}</span>\r\n                  </Link>\r\n                </ListItemText>\r\n              </ListItem>\r\n            );\r\n          })}\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport SubscriptionsListOld from './subscriptions-list-old';\r\nimport { ITab } from './tabs/explore-tabs';\r\nimport NewsLoader from 'components/loader/loader';\r\n\r\nexport interface TabPanelProps {\r\n  children?: React.ReactNode;\r\n\r\n  subscriptionsType: ITab;\r\n\r\n  //if we already have the subscriptions and not need to fetch,\r\n  //because is a fixed string, pass them in this property\r\n  staticSubscriptions?: string[];\r\n\r\n  index: any;\r\n\r\n  value: any;\r\n  language: string;\r\n\r\n  //The url of the API to fetch the subscriptions\r\n  url?: string;\r\n\r\n  //the property of the object returned by the API where is the text\r\n  subscriptionsProperty?: string;\r\n}\r\nexport function TabPanelOld(props: TabPanelProps) {\r\n  const {\r\n    children,\r\n    value,\r\n    index,\r\n    url,\r\n    subscriptionsProperty,\r\n    staticSubscriptions,\r\n    subscriptionsType,\r\n    language,\r\n    ...other\r\n  } = props;\r\n\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const [subscriptions, setSubscriptions] = useState<string[]>([]);\r\n  const [originalSubscriptions, setOriginalSubscriptions] = useState<string[]>([]);\r\n\r\n  const transformJson = (json: []) => {\r\n    var result =\r\n      subscriptionsProperty !== undefined\r\n        ? json.map((j) => j[subscriptionsProperty] as string) //.split(' |')[0])\r\n        : json;\r\n    return result as string[];\r\n  };\r\n  useEffect(() => {\r\n    if (url === undefined || staticSubscriptions) {\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    const fetchJson = async () => {\r\n      const json: [] = await (await fetch(url)).json();\r\n      const newSubstriptions = transformJson(json);\r\n      setOriginalSubscriptions(newSubstriptions);\r\n      setSubscriptions(newSubstriptions);\r\n      setIsLoading(false);\r\n    };\r\n    fetchJson();\r\n  }, [language]);\r\n\r\n  const handleChange = (filterTerm: string) => {\r\n    let filterPattern = RegExp(filterTerm, 'i');\r\n    let newSubs = originalSubscriptions.filter((s) => filterPattern.test(s));\r\n    setSubscriptions(newSubs);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {isLoading && <NewsLoader />}\r\n      {isLoading === false && value === index && children}\r\n      {isLoading === false && value === index && (\r\n        <SubscriptionsListOld\r\n          subscriptionType={subscriptionsType}\r\n          onFilterSubscriptions={handleChange}\r\n          subscriptions={staticSubscriptions || subscriptions}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nexport interface DailyTopicPanelProps {\r\n  children?: React.ReactNode;\r\n\r\n  index: any;\r\n\r\n  value: any;\r\n\r\n  //the property of the object returned by the API where is the text\r\n}\r\nexport default function TabPanel({ index, value, children }: DailyTopicPanelProps) {\r\n  return (\r\n    <div style={{ padding: '6px 12px' }} hidden={value !== index}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport LocalOfferTwoTone from '@material-ui/icons/LocalOfferTwoTone';\r\n\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    alert: {\r\n      backgroundColor: 'transparent',\r\n    },\r\n    tag: {\r\n      marginLeft: 12,\r\n\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      flexDirection: 'row',\r\n\r\n      fontSize: (props) => (props.size == 'big' ? '.84rem' : '.64rem'),\r\n      color: (props: LinkTagProps) => props.color,\r\n      borderRadius: '2em',\r\n\r\n      padding: '0px 8px 0 3px',\r\n      //   backgroundColor: (props) => (props.color ? lighten(props.color, 0.9) : 'transparent'),\r\n    },\r\n    tagIcon: { transform: 'rotate(135deg)', marginRight: 8, maxHeight: '10px !important ' },\r\n    mainContainer: {\r\n      [theme.breakpoints.up('md')]: {\r\n        padding: '8px 16px',\r\n      },\r\n    },\r\n    topic: {\r\n      marginBottom: 32,\r\n\r\n      [theme.breakpoints.up('md')]: {\r\n        // backgroundColor: 'white',\r\n        // padding: '32px 64px',\r\n        paddingRight: 0,\r\n\r\n        // boxShadow: '0 2px 6px rgba(0,0,0,.15)',\r\n        marginBottom: 64,\r\n        // borderRadius: 5,\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nexport interface LinkTagProps {\r\n  to: string;\r\n  text: string | number;\r\n  size?: 'small' | 'big';\r\n  icon?: any;\r\n\r\n  color?: string;\r\n}\r\nexport default function LinkTag({\r\n  to,\r\n  text,\r\n  icon,\r\n  size = 'big',\r\n  color = 'rgba(0, 0, 0, 0.77)',\r\n}: LinkTagProps) {\r\n  const classes = useStyles({ to, color, size, text });\r\n  return (\r\n    <Link to={to} className={classes.tag}>\r\n      {icon === true && <LocalOfferTwoTone style={{ fontSize: 10 }} />}\r\n      {icon ?? icon} <span style={{ marginRight: 8 }} />\r\n      <span>{text}</span>\r\n    </Link>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { List, ListItem, ListItemAvatar, Avatar, Chip } from '@material-ui/core';\r\nimport { TwoLetterLanguage } from 'models/types';\r\nimport { ITrend } from 'models/ITrend';\r\nimport { Link } from 'react-router-dom';\r\nimport { reduceTags } from 'lib/utils';\r\nimport NewsLoader from 'components/loader/loader';\r\nimport { useCategories } from 'context/settings-context';\r\nimport LinkTag from 'components/tag/link-tag';\r\nimport ArticleIcon from '@material-ui/icons/AttachmentTwoTone';\r\nexport interface DailyTopicListProps {\r\n  language: TwoLetterLanguage;\r\n  daysSince2020First: string;\r\n}\r\nexport default function DailyTopicList({ language, daysSince2020First }: DailyTopicListProps) {\r\n  const [dailyTopics, setDailyTopics] = useState<ITrend[]>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const { categories } = useCategories();\r\n  useEffect(() => {\r\n    const url = `https://pokopek.com/api/dailytopics/trends?language=${\r\n      language === 'all' ? '' : language\r\n    }&categories=${categories ?? ''}&dayssince2020first=${daysSince2020First}`;\r\n    const getTopics = async () => {\r\n      setIsLoading(true);\r\n\r\n      const topics: ITrend[] = await (await fetch(url)).json();\r\n      setDailyTopics(topics);\r\n\r\n      setIsLoading(false);\r\n    };\r\n\r\n    getTopics();\r\n  }, [language, categories, daysSince2020First]);\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <NewsLoader />}\r\n      <List>\r\n        {dailyTopics.length > 0 &&\r\n          dailyTopics?.map((topic) => {\r\n            return (\r\n              <ListItem\r\n                key={topic.id}\r\n                alignItems=\"flex-start\"\r\n                button\r\n                component={(props) => <Link to={`/${language}/topic/${topic.id}`} {...props} />}\r\n                divider\r\n                style={{ padding: 10, display: 'flex' }}\r\n              >\r\n                {' '}\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                  <ListItemAvatar>\r\n                    <Avatar src={`${topic.favicon}`} />\r\n                  </ListItemAvatar>\r\n                  <LinkTag\r\n                    to={`/${language}/topic/${topic.id}`}\r\n                    icon={<ArticleIcon />}\r\n                    text={topic.count}\r\n                  />\r\n                </div>\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                  <h3 style={{ margin: 8 }}>{topic.mainTitle} </h3>\r\n                  <div style={{ marginLeft: 8 }}>\r\n                    {reduceTags(topic.tagsText).map((tag) => (\r\n                      <LinkTag to={`/${language}/search/${tag}`} text={tag} />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </ListItem>\r\n            );\r\n          })}\r\n      </List>\r\n    </>\r\n  );\r\n}\r\n","import React, { FormEvent, useState } from 'react';\r\nimport { makeStyles, Theme, createStyles, fade } from '@material-ui/core/styles';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DirectionsIcon from '@material-ui/icons/AddCircle';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      backgroundColor: 'rgba(0,0,0,.04)',\r\n      borderRadius: 7,\r\n      padding: theme.spacing(),\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      maxWidth: 400,\r\n    },\r\n    input: {\r\n      marginLeft: theme.spacing(1),\r\n      flex: 1,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n    },\r\n    iconButton: {\r\n      padding: 10,\r\n    },\r\n  })\r\n);\r\ninterface SubscriptionsInputProps {\r\n  onAddSubscription: (e: any) => void;\r\n}\r\n\r\nexport default function SubscriptionsInput({ onAddSubscription }: SubscriptionsInputProps) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState('');\r\n\r\n  //adding a word\r\n  const handleSubmit = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    value.trim() && onAddSubscription(value.trim());\r\n    setValue('');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={classes.root}>\r\n      <InputBase\r\n        className={classes.input}\r\n        placeholder=\"palavras chave\"\r\n        inputProps={{ 'aria-label': 'search google maps' }}\r\n        onChange={(e) => setValue(e.currentTarget.value)}\r\n        value={value}\r\n      />\r\n      <IconButton color=\"primary\" type=\"submit\" className={classes.iconButton} aria-label=\"search\">\r\n        <DirectionsIcon />\r\n      </IconButton>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {\r\n  createStyles,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  makeStyles,\r\n  Theme,\r\n} from '@material-ui/core';\r\nimport RemoveIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    link: {\r\n      color: theme.palette.text.primary,\r\n      '&:hover': {\r\n        color: '#1e88e5',\r\n        transition: 'color .2s',\r\n      },\r\n    },\r\n  })\r\n);\r\nexport interface SubscriptionsListProps {\r\n  subscriptions: string[];\r\n  onRemoveSubscription: (_: any) => void;\r\n}\r\nexport default function SubscriptionsList({\r\n  subscriptions,\r\n  onRemoveSubscription,\r\n}: SubscriptionsListProps) {\r\n  const { language } = useParams<any>();\r\n  const classes = useStyles();\r\n  return (\r\n    <List style={{ width: 420 }} dense={true}>\r\n      {subscriptions.map((sub) => (\r\n        <ListItem key={sub}>\r\n          <ListItemIcon>\r\n            <IconButton onClick={(_) => onRemoveSubscription(sub)}>\r\n              <RemoveIcon color=\"error\" />\r\n            </IconButton>\r\n          </ListItemIcon>\r\n\r\n          <Link to={`/${language}/search/${sub}/`}>\r\n            <ListItemText className={classes.link}>{sub}</ListItemText>\r\n          </Link>\r\n        </ListItem>\r\n      ))}\r\n    </List>\r\n  );\r\n}\r\n","import { getLocalStorageObject, setLocalStorageObject } from 'lib/utils';\r\nimport React, { useState } from 'react';\r\nimport SubscriptionsInput from './subscriptions-input';\r\nimport SubscriptionsList from './subscriptions-list';\r\n\r\nconst subscriptionsKey = 'subscriptions';\r\nconst storedSubscriptions = getLocalStorageObject<string[]>(subscriptionsKey);\r\nexport interface SubscriptionsProps {}\r\nexport default function Subscriptions() {\r\n  const [subscriptions, setSubscriptions] = useState(storedSubscriptions ?? []);\r\n\r\n  const handleAddSubscription = (value: string) => {\r\n    const newSubs = [...new Set([...subscriptions, value])];\r\n    setLocalStorageObject(subscriptionsKey, newSubs);\r\n    setSubscriptions(newSubs);\r\n  };\r\n\r\n  const handleRemoveSubscription = (value: string) => {\r\n    const newSubs = subscriptions.filter((s) => s !== value);\r\n    setLocalStorageObject(subscriptionsKey, newSubs);\r\n    setSubscriptions(newSubs);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h4>Acrescenta alguns temas do teu interesse</h4>\r\n      <SubscriptionsInput onAddSubscription={handleAddSubscription} />\r\n      <SubscriptionsList\r\n        subscriptions={subscriptions}\r\n        onRemoveSubscription={handleRemoveSubscription}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { TabLabelMenu, useStyles, TabsGroup } from './explore-tab-styles';\r\nimport { TabPanelOld } from '../tab-panel-old';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport CategoriesList from '../categories/categories-list';\r\nimport TabPanel from './tab-panel';\r\nimport DailyTopicList from '../daily-topics/daily-topic-list';\r\nimport { TwoLetterLanguage } from 'models/types';\r\nimport { useCategories } from 'context/settings-context';\r\nimport SubscriptionsInput from '../subscriptions/subscriptions-input';\r\nimport Subscriptions from '../subscriptions/subscriptions';\r\n\r\nexport type ITab = 'categories' | 'sources' | 'trends' | 'subscriptions';\r\n\r\nexport default function ExploreTabs({ daysSince2020First }: { daysSince2020First: string }) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n  const { language, tab } = useParams<{\r\n    language: TwoLetterLanguage;\r\n    tab: ITab;\r\n  }>();\r\n  const { push } = useHistory();\r\n\r\n  useEffect(() => {\r\n    let newValue = 0;\r\n\r\n    switch (tab) {\r\n      case 'trends':\r\n        newValue = 0;\r\n        break;\r\n      case 'sources':\r\n        newValue = 1;\r\n        break;\r\n      case 'categories':\r\n        newValue = 2;\r\n        break;\r\n      case 'subscriptions':\r\n        newValue = 3;\r\n        break;\r\n    }\r\n    setValue(newValue);\r\n\r\n    if (!tab) return;\r\n\r\n    push(`/${language}/explore/${tab}/${daysSince2020First}`);\r\n  }, [tab, language, daysSince2020First]);\r\n\r\n  const handleChange = (_: React.ChangeEvent<{}>, newValue: number) => {\r\n    setValue(newValue);\r\n\r\n    let tab: ITab = 'categories';\r\n    switch (newValue) {\r\n      case 0:\r\n        tab = 'trends';\r\n        break;\r\n      case 1:\r\n        tab = 'sources';\r\n        break;\r\n      case 2:\r\n        tab = 'categories';\r\n        break;\r\n      case 3:\r\n        tab = 'subscriptions';\r\n        break;\r\n    }\r\n    //a mudar para ver a hemeroteca\r\n    push(`/${language}/explore/${tab}/${daysSince2020First}`);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div>\r\n        <TabsGroup scrollButtons=\"on\" value={value} onChange={handleChange} aria-label=\"menú\">\r\n          <TabLabelMenu label=\"Manchetes\" />\r\n          <TabLabelMenu label=\"Jornais\" />\r\n          <TabLabelMenu label=\"Categorias\" />\r\n          <TabLabelMenu label=\"Interesses\" />\r\n        </TabsGroup>\r\n\r\n        <TabPanel value={value} index={2}>\r\n          <CategoriesList />\r\n        </TabPanel>\r\n\r\n        <TabPanel value={value} index={0}>\r\n          <DailyTopicList language={language} daysSince2020First={daysSince2020First} />\r\n        </TabPanel>\r\n\r\n        <TabPanel value={value} index={3}>\r\n          <Subscriptions />\r\n        </TabPanel>\r\n\r\n        <TabPanelOld\r\n          subscriptionsType=\"sources\"\r\n          language={language}\r\n          value={value}\r\n          index={1}\r\n          url={`https://pokopek.com/api/articles/sources/${language}`}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Search from 'components/explore/search';\r\n\r\nimport ExploreTabs from 'components/explore/tabs/explore-tabs';\r\nexport default function Explore({ daysSince2020First }: { daysSince2020First: string }) {\r\n  return (\r\n    <>\r\n      <h3 style={{ paddingLeft: 8 }}>Explorar</h3>\r\n      <Search />\r\n\r\n      <ExploreTabs daysSince2020First={daysSince2020First} />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nexport default function PrivacyPolicy() {\r\n  return (\r\n    <Paper style={{ padding: '20px 40px' }}>\r\n      <h1>POLÍTICA DE PRIVACIDADE</h1>\r\n      <p>\r\n        Os Utilizadores do website da Portugal às Manchetes podem preencher um formulário de pedido\r\n        de contacto num dos websites da Portugal às Manchetes, no qual fornecem dados pessoais\r\n        específicos.\r\n      </p>\r\n      <p>\r\n        A presente Política de Privacidade aplica-se aos websites da Portugal às Manchetes e a\r\n        outras interacções que possam existir entre o Utilizador e a Portugal às Manchetes (p.ex.\r\n        perguntas sobre serviços).\r\n      </p>\r\n      Caso não concorde com a presente política de privacidade, não deverá aceder ou utilizar os\r\n      serviços da Portugal às Manchetes, os websites ou quaisquer outros aspetos do negócio da\r\n      Portugal às Manchetes.\r\n      <p></p>\r\n      <h2>FORMULÁRIOS E FICHEIROS DE REGISTO</h2>\r\n      <p>\r\n        Nos termos do regulamento protecção de dados aplicável na UE (RGPD), informamos que os dados\r\n        pessoais obtidos através dos formulários de registo online não serão guardados.\r\n      </p>\r\n      <h2>ENCARREGADO DA PROTECÇÃO DOS DADOS</h2>\r\n      <p>\r\n        Para comunicar com o nosso Encarregado da Protecção dos Dados, envie um e-mail para\r\n        dpo@portugalasmanchetes.com.\r\n      </p>\r\n      <h2>EXACTIDÃO E VERACIDADE DOS DADOS ENVIADOS</h2>\r\n      <p>\r\n        O Utilizador garante que os dados pessoais fornecidos à Portugal às Manchetes são\r\n        verdadeiros e exactos. O Utilizador reconhece o seu direito de acesso, retificação,\r\n        cancelamento e oposição sobre os dados pessoais por si comunicados.\r\n      </p>\r\n      <h2>BASE LEGAL PARA A RECOLHA E O TRATAMENTO DOS DADOS</h2>\r\n      <p>O consentimento expresso dado pelo Utilizador (a parte interessada).</p>\r\n      <h2> FINALIDADE</h2>\r\n      <p>\r\n        A finalidade da recolha dos dados é a produção, administração, execução e melhoria dos\r\n        serviços para os quais o Utilizador realizou o seu registo, incluindo o próprio registo, ou\r\n        a utilização dos serviços acima referidos por forma a ir ao encontro das preferências do\r\n        Utilizador, a concepção de novos serviços relacionados com outros serviços prestados pela\r\n        Portugal às Manchetes, e o envio de actualizações sobre estes mesmos serviços.\r\n      </p>\r\n      <h2>TRANSFERÊNCIA DOS DADOS PARA FORA DA UNIÃO EUROPEIA</h2>\r\n      <p>\r\n        A Portugal às Manchetes não tem qualquer intenção de transferir os dados para quaisquer\r\n        outras organizações fora da União Europeia ou quaisquer outras organizações internacionais.\r\n      </p>\r\n      <h2>EXERCÍCIO DO DIREITO AO ACESSO, RETIFICAÇÃO, ANULAÇÃO E OPOSIÇÃO AOS DADOS</h2>\r\n      <p>\r\n        O Utilizador poderá exercer o seu direito de acesso, retificação, anulação e oposição aos\r\n        seus dados comunicando com a Portugal às Manchetes por email, através do endereço de correio\r\n        electrónico dpo@Portugal às Manchetes.com, ou por correio, por carta enviada para a Portugal\r\n        às Manchetes. Não foi definida data de expiração dos dados registados.\r\n      </p>\r\n      <h2>MEDIDAS DE SEGURANÇA</h2>\r\n      <p>\r\n        A Portugal às Manchetes adoptou os níveis de segurança para a proteção de dados pessoais\r\n        exigidos por lei, tendo implementado todas as medidas e os meios necessários para prevenir a\r\n        perda, utilização indevida, alteração, acesso não autorizado ou roubo dos dados pessoais. No\r\n        entanto, o Utilizador deve estar consciente de que as medidas de segurança na Internet não\r\n        são inexpugnáveis.\r\n      </p>\r\n      <h2>ACEITAÇÃO E CONSENTIMENTO</h2>\r\n      <p>\r\n        O Utilizador declara que foi devidamente informado sobre as condições relacionadas com a\r\n        proteção dos dados pessoais pela Portugal às Manchetes e que aceita e dá o seu consentimento\r\n        à recolha e manutenção destes dados pela Portugal às Manchetes, na forma e para os fins\r\n        indicados na presente Política de Protecção de Dados Pessoais.\r\n      </p>\r\n      <h2>RECLAMAÇÕES</h2>\r\n      <p>\r\n        O Utilizador (a parte interessada) poderá apresentar uma reclamação junto à autoridade de\r\n        supervisão competente para fazer valer os seus direitos legais, como especificado acima.\r\n      </p>\r\n    </Paper>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { IArticle } from 'models/IArticle';\r\nimport {\r\n  Avatar,\r\n  Grid,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  List,\r\n  createStyles,\r\n  makeStyles,\r\n  Theme,\r\n  darken,\r\n  useTheme,\r\n  Badge,\r\n  useMediaQuery,\r\n  lighten,\r\n} from '@material-ui/core';\r\nimport { Alert } from '@material-ui/lab';\r\nimport ArticleIcon from '@material-ui/icons/LibraryBooksTwoTone';\r\n\r\nimport Article from 'components/article/article';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport NewsLoader from 'components/loader/loader';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport InfiniteScroll from 'components/infinite-scroll/infinite-scroll';\r\nimport { IPagination } from 'models/IPagination';\r\nimport { useCategories } from 'context/settings-context';\r\nimport { getApiUrl } from './apiFunctions';\r\nimport { List as IEnumerable } from 'linq-collections';\r\nimport { IDailyTopic } from 'models/IDailyTopic';\r\nimport CategoriesList from 'components/explore/categories/categories-list';\r\nimport { translateIntoPortuguese } from 'lib/localizer';\r\nimport { getDaysSince2020First } from 'lib/utils';\r\nimport classes from '*.module.css';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    alert: {\r\n      backgroundColor: 'transparent',\r\n    },\r\n\r\n    mainContainer: {\r\n      [theme.breakpoints.up('md')]: {\r\n        padding: '8px 16px',\r\n      },\r\n    },\r\n    topic: {\r\n      marginBottom: 32,\r\n\r\n      [theme.breakpoints.up('md')]: {\r\n        // backgroundColor: 'white',\r\n        // padding: '32px 64px',\r\n        paddingRight: 0,\r\n\r\n        // boxShadow: '0 2px 6px rgba(0,0,0,.15)',\r\n        marginBottom: 64,\r\n        // borderRadius: 5,\r\n      },\r\n    },\r\n    topicInfo: {\r\n      backgroundColor: lighten(theme.palette.primary.main, 0.85),\r\n      padding: '8px 16px',\r\n      borderRadius: 5,\r\n      color: theme.palette.primary.main,\r\n    },\r\n    tagLink: {\r\n      color: theme.palette.primary.main,\r\n      display: 'block',\r\n      fontWeight: 'bold',\r\n      width: 'auto',\r\n      '&:hover': {\r\n        textDecoration: 'underline',\r\n      },\r\n      '&:visited': { color: theme.palette.primary.main },\r\n    },\r\n  })\r\n);\r\n\r\nconst populateTerms = (textTags: string) => {\r\n  const parts = textTags.split('>');\r\n  const mainTerm = parts.shift()?.trim();\r\n  const secondaryTerms = parts[0]?.split('|').map((t) => t.trim());\r\n\r\n  return {\r\n    mainTerm,\r\n    secondaryTerms,\r\n  };\r\n};\r\nexport interface IFrontContainerProps {\r\n  direction: 'row' | 'column';\r\n}\r\nconst pageSize = 5;\r\nconst baseUrl = `https://pokopek.com/api/dailytopics`;\r\nexport default function FrontContainer({ direction }: IFrontContainerProps) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'), { noSsr: true });\r\n  //state\r\n  const [err, setErr] = useState<Boolean>(false);\r\n  const [pagination, setPagination] = useState<IPagination>();\r\n\r\n  const [dailyTopics, setDailyTopics] = useState<IDailyTopic[]>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n  //pageNumber starts at 2 because first page is loaded by useffect\r\n  const [pageNumber, setPageNumber] = useState<number>(2);\r\n  const { categories } = useCategories();\r\n  let { language, daysSince2020First } = useParams<any>();\r\n  let mainTopic: string;\r\n  let secondaryTopics: string[] = [];\r\n  //if language is not set\r\n  language = language ?? localStorage.getItem('language') ?? 'all';\r\n\r\n  // for fetch articles\r\n  //--Could be custom hook!\r\n  useEffect(() => {\r\n    const fetchTopics = async () => {\r\n      var apiUrl = getApiUrl({\r\n        baseUrl,\r\n        pageNumber: 1,\r\n        pageSize,\r\n        categories,\r\n        daysSince2020First,\r\n        language,\r\n      });\r\n      try {\r\n        const response = await fetch(apiUrl);\r\n        let paginationHeaders = response.headers.get('X-Pagination')!;\r\n        let paginationJson: IPagination = JSON.parse(paginationHeaders);\r\n        setPagination(paginationJson);\r\n        const newTopics: IDailyTopic[] = await response.json();\r\n\r\n        setDailyTopics(newTopics);\r\n\r\n        if (err === true) setErr(false);\r\n        setIsLoading(false);\r\n      } catch {\r\n        setErr(true);\r\n      }\r\n    };\r\n\r\n    setIsLoading(true);\r\n    fetchTopics();\r\n\r\n    //2 (two), because the first page has been got here, and the infinite scroll should take the second page\r\n    setPageNumber(2);\r\n  }, [language, categories, daysSince2020First]);\r\n\r\n  //-- LOAD MORE when reaches end of page\r\n  const loadMore = async () => {\r\n    if (isLoading || !pagination?.HasNext) {\r\n      return;\r\n    }\r\n\r\n    var apiUrl = getApiUrl({\r\n      baseUrl,\r\n      pageNumber,\r\n      pageSize,\r\n      categories,\r\n      daysSince2020First,\r\n      language,\r\n    });\r\n\r\n    const response = await fetch(apiUrl);\r\n    let paginationHeaders = response.headers.get('X-Pagination')!;\r\n    let paginationJson: IPagination = JSON.parse(paginationHeaders);\r\n    setPagination(paginationJson);\r\n    const topics = await response.json();\r\n    const mergedTopics = new IEnumerable<IDailyTopic>([...dailyTopics, ...topics])\r\n      .distinct((a) => a.id)\r\n      .toArray();\r\n\r\n    setDailyTopics(mergedTopics);\r\n    setPageNumber(pageNumber + 1);\r\n  };\r\n\r\n  //--RENDER\r\n\r\n  return (\r\n    <Grid container>\r\n      {err && (\r\n        <Alert severity=\"error\">\r\n          Pedimos desculpas. Neste momento, o site está a implementar algumas mudanças. Volte mais\r\n          tarde\r\n        </Alert>\r\n      )}\r\n      <Grid item md={12}>\r\n        <h3 style={{ width: '100%', paddingLeft: 8 }}>Destaques </h3>\r\n        {isLoading && <NewsLoader text=\"a carregar\" fontSize={14} />}\r\n        <InfiniteScroll\r\n          dataLength={dailyTopics.length}\r\n          endMessage={\r\n            <Alert\r\n              style={{ marginTop: 18, maxWidth: direction === 'column' ? '100' : '83%' }}\r\n              severity=\"info\"\r\n            >\r\n              Não há mais destaques por hoje en <b>{translateIntoPortuguese(language)}</b> nas\r\n              categorias selecionadas.\r\n            </Alert>\r\n          }\r\n          next={loadMore}\r\n          hasMore={isLoading || pagination === undefined || pagination?.HasNext}\r\n          loader={null}\r\n          style={{ overflow: 'hidden' }}\r\n        >\r\n          <Grid container className={classes.mainContainer}>\r\n            <Grid item md={8}>\r\n              {!isLoading &&\r\n                dailyTopics.map((topic: IDailyTopic) => {\r\n                  const articles = sortArticles(topic);\r\n                  const mainArticle = articles.shift()!;\r\n                  const terms = populateTerms(topic.tagsText);\r\n                  return (\r\n                    <Grid item container key={topic.id} className={classes.topic}>\r\n                      <Grid item xs={12} md={10}>\r\n                        <h3\r\n                          style={{\r\n                            textTransform: 'uppercase',\r\n                            display: 'flex',\r\n                            alignItems: 'baseline',\r\n                            marginBottom: 8,\r\n                          }}\r\n                        >\r\n                          <Link\r\n                            className={classes.topicInfo}\r\n                            style={{ color: theme.palette.primary.main }}\r\n                            to={`/${language}/search/\"${\r\n                              terms.mainTerm\r\n                            }\"/${getDaysSince2020First()}`}\r\n                          >\r\n                            {terms.mainTerm}\r\n                            <span\r\n                              style={{\r\n                                marginLeft: 18,\r\n                                fontSize: 12,\r\n                                color: theme.palette.text.secondary,\r\n                              }}\r\n                            >\r\n                              <ArticleIcon\r\n                                style={{\r\n                                  fontSize: 18,\r\n                                  top: 5,\r\n                                  position: 'relative',\r\n                                  marginRight: 4,\r\n                                }}\r\n                              />\r\n                              {topic.count}\r\n                            </span>{' '}\r\n                          </Link>\r\n                        </h3>\r\n                      </Grid>\r\n\r\n                      <Grid item container key={topic.id} spacing={3}>\r\n                        <Grid item xs={12} md={10}>\r\n                          <Article direction=\"row\" {...mainArticle} bordered />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} md={10}>\r\n                          {ArticlesList(articles, language, terms.secondaryTerms, classes.tagLink)}\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  );\r\n                })}\r\n            </Grid>\r\n            {!isMobile && (\r\n              <Grid item md={3}>\r\n                <CategoriesList position=\"fixed\" />\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </InfiniteScroll>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction ArticlesList(articles: IArticle[], language: any, terms: string[], styles: string) {\r\n  return (\r\n    <List>\r\n      {articles.map((art: IArticle, i: number) => {\r\n        return art === undefined ? (\r\n          ''\r\n        ) : (\r\n          <ListItem\r\n            key={art.id}\r\n            button\r\n            style={{ padding: 4 }}\r\n\r\n            // -- TODO\r\n            // component={(props) => <Link to={`/${language}/**TAGS**/**TODO**`} {...props} />}\r\n          >\r\n            <ListItemIcon>\r\n              <Avatar src={`${art.favicon}`} style={{ width: 30, height: 30 }} />\r\n            </ListItemIcon>\r\n            <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n              <Link\r\n                className={styles}\r\n                to={`/${language}/search/${terms[i + 1]}/${getDaysSince2020First()}`}\r\n              >\r\n                {terms[i + 1]}\r\n              </Link>\r\n              <ListItemText primary={art.title}></ListItemText>\r\n            </div>\r\n          </ListItem>\r\n        );\r\n      })}\r\n    </List>\r\n  );\r\n}\r\n\r\nfunction sortArticles(topic: IDailyTopic): IArticle[] {\r\n  let { secondaryTerms } = populateTerms(topic.tagsText);\r\n  let articles = topic.articles.slice();\r\n\r\n  let arts = secondaryTerms\r\n    .map((term) => {\r\n      const art = articles\r\n        .filter((a) =>\r\n          a.tags.some(\r\n            (tag) =>\r\n              tag.toLowerCase().includes(term.toLowerCase()) ||\r\n              term.toLowerCase().includes(tag.toLowerCase())\r\n          )\r\n        )\r\n        .shift()!;\r\n\r\n      articles = articles.filter((a) => a !== art);\r\n\r\n      return art;\r\n    })\r\n    .filter((a) => a != undefined);\r\n\r\n  const result = arts.filter((a) => a != undefined);\r\n  if (arts.length === 0) return articles;\r\n  return arts;\r\n}\r\n","import React from 'react';\r\n\r\nimport { Route, Switch, Redirect } from 'react-router';\r\nimport ArticlesContainer from 'components/containers/articles-container';\r\nimport Explore from 'components/explore/explore';\r\nimport PrivacyPolicy from 'components/Privacy/privacy-policy';\r\nimport FrontContainer from 'components/containers/front-container';\r\n\r\ninterface IRoutesProps {\r\n  direction: 'row' | 'column';\r\n  daysSince2020First: string;\r\n}\r\nconst language = localStorage.getItem('language') ?? 'all';\r\nexport default function Routes({ direction, daysSince2020First }: IRoutesProps) {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        {/*//-- *** Explore *** */}\r\n        <Route path={`/:language/explore/:tab/:daysSince2020First?/`}>\r\n          <Explore daysSince2020First={daysSince2020First} />\r\n        </Route>\r\n\r\n        {/*//-- Searchs: route=>search/ */}\r\n        <Route path=\"/:language/search/:searchTerm/:daysSince2020First?/\">\r\n          <ArticlesContainer direction={direction} />\r\n        </Route>\r\n        {/*//-- daily topics */}\r\n        <Route path=\"/:language/topic/:topicId/\">\r\n          <ArticlesContainer direction={direction} />\r\n        </Route>\r\n\r\n        {/*//-- News*/}\r\n        <Route path={`/:language/articles/:order/:daysSince2020First?/`}>\r\n          <ArticlesContainer direction={direction} />\r\n        </Route>\r\n\r\n        {/*//-- Front*/}\r\n        <Route path={`/:language/front/`}>\r\n          <FrontContainer direction={direction} />\r\n        </Route>\r\n\r\n        {/*//-- Jornais */}\r\n        <Route path=\"/:language/source/:domain/:daysSince2020First?/\">\r\n          <ArticlesContainer direction={direction} />\r\n        </Route>\r\n\r\n        {/*//-- RGOD */}\r\n        <Route path=\"/:language/RGPD\" exact>\r\n          <PrivacyPolicy />\r\n        </Route>\r\n\r\n        {/*//-- home */}\r\n        <Route path=\"/\" exact>\r\n          <Redirect to={`/${language}/front/`} />\r\n        </Route>\r\n\r\n        {/*//-- no match =>redirects to origin*/}\r\n        <Route path=\"*\">\r\n          <Redirect to={`/${language}/front/`} />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Paper, Button } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function CookiesConsent() {\r\n  const [display, setDisplay] = useState('flex');\r\n  const handleAcceptCookies = () => {\r\n    localStorage.setItem('cookiesConsent', 'true');\r\n    setDisplay('none');\r\n  };\r\n  return (\r\n    <Paper\r\n      style={{\r\n        position: 'fixed',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        top: 0,\r\n        backgroundColor: 'rgba(52, 51, 51, 0.66)',\r\n        color: 'white',\r\n\r\n        flexDirection: 'column',\r\n        justifyContent: 'flex-end',\r\n        alignItems: 'flex-end',\r\n        display: display,\r\n      }}\r\n    >\r\n      <div\r\n        className=\"system-font\"\r\n        style={{\r\n          padding: ' 50px',\r\n          display: 'flex',\r\n          backgroundColor: 'white',\r\n          flexDirection: 'column',\r\n          justifyContent: 'center',\r\n          color: 'rgba(0,0,0,.8)',\r\n          width: 'auto',\r\n          maxWidth: 650,\r\n          borderRadius: '4px',\r\n          fontSize: 18,\r\n        }}\r\n      >\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <img\r\n            src={process.env.PUBLIC_URL + '/favicon.png'}\r\n            alt=\"\"\r\n            style={{ marginRight: 20, marginLeft: -20 }}\r\n          />\r\n          <h1> Portugal às Manchetes</h1>\r\n        </div>\r\n\r\n        <p>Este sítio utiliza cookies.</p>\r\n        <p>\r\n          Se deseja continuar a navegar, deve dar o seu consentimento. Em caso contrário, deverá\r\n          abandonar o sítio.\r\n          <br />\r\n          Pode consultar a nossa Política de Privacidade no seguinte link{' '}\r\n        </p>\r\n        <div style={{ marginBottom: 25 }}>\r\n          <Link to=\"/RGPD\" style={{ color: '#9C27B0' }} onClick={handleAcceptCookies}>\r\n            Política de Privacidade\r\n          </Link>\r\n        </div>\r\n        <div>\r\n          <Button style={{ marginRight: 18 }} variant=\"outlined\">\r\n            Recusar\r\n          </Button>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={handleAcceptCookies}>\r\n            Aceitar\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport Nav from 'components/nav/nav';\r\nimport Routes from 'components/routes/routes';\r\nimport CookiesConsent from 'components/Privacy/cookies-consent';\r\nimport { Container, createStyles, makeStyles, Theme } from '@material-ui/core';\r\nimport Hemeroteca from 'components/hemeroteca/hemeroteca';\r\nimport { getDaysSince2020First } from 'lib/utils';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    container: {\r\n      padding: '78px 8px 28px',\r\n      [theme.breakpoints.down('sm')]: {\r\n        padding: '8px ',\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n  const directionSetting = localStorage.getItem('direction') as 'row' | 'column';\r\n\r\n  const [direction, setDirection] = useState<'row' | 'column'>(directionSetting || 'row');\r\n  const [daysSince2020First, setDaysSince2020First] = useState(\r\n    getDaysSince2020First(new Date()).toString()\r\n  );\r\n  const handleChangeDirection = () => {\r\n    const newDirection = direction === 'column' ? 'row' : 'column';\r\n    localStorage.setItem('direction', newDirection);\r\n    setDirection(newDirection);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Nav onDirectionChanges={handleChangeDirection} daysSince2020First={daysSince2020First} />\r\n      <Container className={classes.container}>\r\n        <Routes direction={direction} daysSince2020First={daysSince2020First} />\r\n      </Container>\r\n      {localStorage.getItem('cookiesConsent') === null && <CookiesConsent />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { useEffect } from 'react';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport { useCategories } from 'context/settings-context';\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n  const { categories } = useCategories();\r\n  // const { action } = useHistory();\r\n  useEffect(() => {\r\n    //if (action === 'POP') return;\r\n    window.scrollTo(0, 0);\r\n  }, [pathname, categories]);\r\n\r\n  return null;\r\n}\r\n","import React from 'react';\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { MuiThemeProvider, createMuiTheme, CssBaseline } from '@material-ui/core';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport ScrollToTop from 'components/routes/scroll-to-top';\r\nimport { SettingsProvider } from 'context/settings-context';\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const whyDidYouRender = require('@welldone-software/why-did-you-render');\r\n  whyDidYouRender(React, {\r\n    trackAllPureComponents: true,\r\n  });\r\n}\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: 'light',\r\n    primary: { main: '#1890ff' },\r\n  },\r\n  typography: {\r\n    fontFamily:\r\n      \"Montserrat,-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Ubuntu', 'sans-serif'\",\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <MuiThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Router>\r\n        <SettingsProvider>\r\n          <ScrollToTop />\r\n          <App />\r\n        </SettingsProvider>\r\n      </Router>\r\n    </MuiThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/global.11093ee1.svg\";"],"sourceRoot":""}